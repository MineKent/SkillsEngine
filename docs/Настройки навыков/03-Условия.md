---
icon: ban
---

# Conditions — когда запретить каст

`conditions` — список проверок. Любая неуспешная проверка => отказ.

Зачем нужны `conditions`:
- чтобы запретить каст в неправильных ситуациях (нет прав, не тот уровень, нет предмета, не тот мир и т.д.).
- чтобы сделать навыки "контролируемыми" и предсказуемыми для баланса.

Как это работает:
- условия проверяются перед списанием стоимости (`cost`) и до выполнения действий (`actions`).
- если хотя бы одно условие не прошло, навык не кастуется и ничего не тратится.

Совет:
- любые проверки "есть ли предмет", "какой мир", "какой уровень" — держи в `conditions`, это самая понятная часть конфига.

## Синтаксис

### `perm <node>`

Требовать permission.

- `node` (обязательно) — permission node.

```yml
conditions:
  - "perm skills.smite"
```

### `lvl <min>`

Требовать уровень игрока не ниже `min`.

- `min` (обязательно) — минимальный уровень.

```yml
conditions:
  - "lvl 10"
```

### `item <MATERIAL> [AMOUNT] [inv|hand|mainhand|offhand]`

Требовать предмет в указанном месте.

- `MATERIAL` (обязательно) — название предмета (например, SHIELD, BLAZE_ROD).
- `AMOUNT` (опционально) — количество.
  - если не указан — по умолчанию `1`.
- `inv|hand|mainhand|offhand` (опционально) — где искать предмет:
  - `inv` — инвентарь.
  - `hand` — любая рука (основная или вторая).
  - `mainhand` — основная рука.
  - `offhand` — вторая рука.
  - если не указано — используется значение по умолчанию плагина.

```yml
conditions:
  - "item SHIELD offhand"
```

### `world allow <w1>,<w2>...`

Разрешить каст только в указанных мирах.

- `w1,w2,...` (обязательно) — список world name через запятую.

```yml
conditions:
  - "world allow world,world_nether"
```

### `world deny <w1>,<w2>...`

Запретить каст в указанных мирах.

- `w1,w2,...` (обязательно) — список world name через запятую.

```yml
conditions:
  - "world deny arena"
```

## См. также

- [config.yml (messages)](../03-config.md)
