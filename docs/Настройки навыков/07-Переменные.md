---
icon: square-root-variable
---

# Переменные

Переменные позволяют хранить данные во время сессии игрока и использовать их в условиях, стоимости, действиях и плейсхолдерах.

## Область видимости (scope)

* **caster** (по умолчанию) — переменные хранятся у кастера.
* **target:** — переменные хранятся в отдельном контейнере на цели (`target:<name>`).
* **global:** — отдельный namespace у кастера (`global:<name>`).

## Синтаксис

### `var set <name> = <value>`

Устанавливает значение переменной.

```yml
actions:
  - "var set rage = 0"
  - "var set target:marked = true"
```

### `var modify <name> <op> <value>`

Изменяет числовую переменную.

* `name` — имя переменной.
* `op` — операция:
  * `add` — прибавить.
  * `sub` — вычесть.
  * `mul` — умножить.
  * `div` — разделить.
* `value` — число, которое используется в операции.

```yml
actions:
  - "var modify rage add 10"
```

### `var toggle <name>`

Переключает булеву переменную.

```yml
actions:
  - "var toggle stealth_mode"
```

### `var unset <name>`

Удаляет переменную.

```yml
actions:
  - "var unset rage"
```

### `var <name> <op> <value>`

Условие для проверки переменной.

```yml
conditions:
  - "var rage >= 50"
  - "var target:marked == true"
```

### `var <name> <amount>`

Стоимость (списание) переменной.

```yml
cost:
  - "var souls 5"
```

## Плейсхолдеры и математика

### `{var:name}`

Подставляет значение переменной.

```yml
- "msg &cВаша ярость: {var:rage}"
```

### `{math:expression}`

Вычисляет математическое выражение. Внутри поддерживаются плейсхолдеры `{var:...}`.

```yml
- "dmg {math:10 + {var:rage} / 2}"
- "var set damage_dealt = {math:{var:damage_dealt} + 1}"
```

## См. также

* [Условия](03-Условия.md)
* [Стоимость](04-Стоимость.md)
* [Действия](06-Действия.md)
