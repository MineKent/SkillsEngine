---
icon: ban
---

# Conditions — когда запретить каст

`conditions` — список проверок. Любая неуспешная проверка => отказ.

Зачем нужны `conditions`:
- чтобы запретить каст в неправильных ситуациях (нет прав, не тот уровень, нет предмета, не тот мир и т.д.).
- чтобы сделать навыки "контролируемыми" и предсказуемыми для баланса.

Как это работает:
- условия проверяются перед списанием стоимости (`cost`) и до выполнения действий (`actions`).
- если хотя бы одно условие не прошло, навык не кастуется и ничего не тратится.

Совет:
- любые проверки "есть ли предмет", "какой мир", "какой уровень" — держи в `conditions`, это самая понятная часть конфига.

## Синтаксис

### `perm <node>`

Требовать permission.

- `node` (обязательно) — permission node.

```yml
conditions:
  - "perm skills.smite"
```

### `lvl <min>`

Требовать уровень игрока не ниже `min`.

- `min` (обязательно) — минимальный уровень.

```yml
conditions:
  - "lvl 10"
```

### `item <MATERIAL> [AMOUNT] [inv|hand|mainhand|offhand]`

Требовать предмет в указанном месте.

- `MATERIAL` (обязательно) — название предмета (например, SHIELD, BLAZE_ROD).
- `AMOUNT` (опционально) — количество.
  - если не указан — по умолчанию `1`.
- `inv|hand|mainhand|offhand` (опционально) — где искать предмет:
  - `inv` — инвентарь.
  - `hand` — любая рука (основная или вторая).
  - `mainhand` — основная рука.
  - `offhand` — вторая рука.
  - если не указано — используется значение по умолчанию плагина.

```yml
conditions:
  - "item SHIELD offhand"
```

### `world allow <world1>,<world2>...`

Разрешить каст только в указанных мирах.

- `world1,world2,...` (обязательно) — список world name через запятую.

```yml
conditions:
  - "world allow world,world_nether"
```

### `world deny <world1>,<world2>...`

Запретить каст в указанных мирах.

- `world1,world2,...` (обязательно) — список world name через запятую.

```yml
conditions:
  - "world deny arena"
```

### `health <оператор><значение>[%]`

Проверить здоровье кастера.

- Операторы: `>`, `<`, `>=`, `<=`, `=`. Если оператор не указан — используется `=`.
- Значение с `%` считается процентом от максимального здоровья.
- Значение без `%` — абсолютное количество единиц здоровья (20 = 10 сердец).

```yml
conditions:
  - "health <50%"
  - "health >10"
  - "health =20"
```

### `biome allow <BIOME1>,<BIOME2>...`

Разрешить каст только в указанных биомах.

```yml
conditions:
  - "biome allow PLAINS,FOREST"
```

### `biome deny <BIOME1>,<BIOME2>...`

Запретить каст в указанных биомах.

```yml
conditions:
  - "biome deny THE_END"
```

### `time <day|night>`

Ограничить каст временем суток.

```yml
conditions:
  - "time day"
  - "time night"
```

### `time <оператор><тики>`

Сравнить текущие тики времени в мире.

```yml
conditions:
  - "time >18000"
  - "time <=6000"
```

### `time ><тики1><тики2>`

Проверить попадание в диапазон времени.

```yml
conditions:
  - "time >5000<10000"
```

### `var <name> <op> <value>`

Проверка значения переменной.

```yml
conditions:
  - "var rage >= 50"
  - "var target:marked == true"
```

## См. также

- [Переменные](07-Переменные.md)
- [config.yml (messages)](../03-config.md)
