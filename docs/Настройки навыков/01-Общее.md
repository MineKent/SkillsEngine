# Общее: структура навыка

Навыки лежат в `plugins/SkillsEngine/skills/*.yml`.

Каждый файл описывает **один** навык.

- Если `id` не указан, используется имя файла без `.yml`.
- В текущей версии `groups` — **обязательное поле** (минимум 1 группа).

## Два формата: YAML-объекты и DSL-строки

Плагин поддерживает **два способа** описания `trigger`, `conditions`, `groups[].target`, `groups[].actions`:

1) **Объектный YAML** (классический):

```yml
trigger:
  type: COMMAND
  command: "fire"
```

2) **Сокращённый DSL (строкой)** — в стиле Mythic:

```yml
trigger: "cmd fire"
```

> Можно **смешивать** форматы: часть actions строками, часть объектами.

## Минимальный пример (рабочий, DSL)

```yml
id: fire
name: "Fire"

trigger: "cmd fire"

cooldown: 5s

groups:
  - target: "target 5"
    actions:
      - "fire 3"
```

## Схема верхнего уровня

| Поле | Тип | Обяз. | Описание |
|---|---:|:---:|---|
| `id` | string | ◐ | Уникальный id (если не задан — берётся из имени файла) |
| `name` | string | ◐ | Отображаемое имя (если не задано — равно `id`) |
| `type` | string | ◐ | Произвольная категория, на логику не влияет |
| `trigger` | object/string | ✓ | Триггер (см. [Триггеры](02-Триггеры.md)) |
| `cooldown` | duration/number | ◐ | Кулдаун (например `500ms`, `10s`, `2m`, `1h`; число = секунды) |
| `conditions` | list(map/string) | ◐ | Условия каста (см. [Условия](04-Условия.md)) |
| `cost` | object | ◐ | Стоимость каста (см. [Стоимость](05-Стоимость.md)) |
| `denyMessage` | string | ◐ | Сообщение игроку при отказе (переопределяет `config.yml`) |
| `groups` | list | ✓ | Группы действий (см. ниже) |

## `groups[]`: группы действий

Каждый элемент `groups[]` — это объект:

```yml
groups:
  - target: "self"          # либо объектом (см. Таргетинг)
    actions:                # список строк или объектов
      - "msg \"&aHello\""
      - type: SOUND
        sound: "ENTITY_PLAYER_LEVELUP"
```

- `target` описывает *как получить цели* для группы (self/target/area)
- `actions` — список действий, которые выполняются для полученных целей

См. также:

- [Триггеры](02-Триггеры.md)
- [Таргетинг](03-Таргетинг.md)
- [Условия](04-Условия.md)
- [Действия](06-Действия.md)
- [Примеры](07-Примеры.md)
