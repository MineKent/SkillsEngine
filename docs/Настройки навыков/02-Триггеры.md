---
icon: bolt
---

# Trigger — как включить навык

Поле `trigger` (обязательно) определяет события, которые активируют умение. Оно может содержать как одну строку, так и список строк для нескольких триггеров.

Пример с несколькими триггерами:

```yml
trigger:
  - "hit ZOMBIE,SKELETON"
  - "rc block STONE,DIRT"
```

Пример с одним триггером:

```yml
trigger: "cmd smite"
```

### Как это работает

Триггер — это "кнопка" или событие (команда, клик, удар), которое запускает цепочку активации умения. Когда событие происходит, движок создает контекст (кто кастер, какая цель) и переходит к проверке `conditions`, `cost` и выполнению `groups`.

> [!TIP]
> Если нужно ограничить, **в какой руке предмет** или **какие предметы разрешены**, делайте это через `conditions`, а не усложняйте `trigger`.

## Синтаксис

### `cmd <name>`

Активация при вводе команды `/name`.

- `name` (обязательно) — имя команды без `/`.

```yml
trigger: "cmd smite"
```

### `rc [block|entity] [LIST]`

Активация по правому клику мыши (ПКМ).

- `block|entity` (опционально) — по чему кликать: `block` (блок) или `entity` (сущность).
- `LIST` (опционально) — список целей через запятую.
  - Для `block`: `STONE,DIRT,OAK_LOG`.
  - Для `entity`: `ZOMBIE,SKELETON`.

Если ничего не указать (`trigger: "rc"`), умение сработает при любом правом клике.

> [!WARNING]
> `rc block ...` срабатывает только при клике по блоку, клик по воздуху не засчитывается.

```yml
trigger: "rc block STONE,DIRT"
```

### `lc [block|entity] [LIST]`

Активация по левому клику мыши (ЛКМ).

- `block|entity` (опционально) — по чему кликать.
- `LIST` (опционально) — список целей.

Если ничего не указать (`trigger: "lc"`), сработает при любом левом клике. Если указать цели, клик по воздуху не сработает.

```yml
trigger: "lc entity VILLAGER"
```

### `hit [MOBS]`

Активация, когда игрок наносит урон.

- `MOBS` (опционально) — список типов сущностей (`ZOMBIE,SKELETON`).

```yml
trigger: "hit ZOMBIE,SKELETON"
```

### `dmg [MOBS]`

Активация, когда игрок получает урон.

- `MOBS` (опционально) — список типов сущностей, от которых получен урон.

```yml
trigger: "dmg"
```

### `sneak <start|stop>`

Активация при нажатии Shift.

- `start|stop` (обязательно): `start` — начал красться, `stop` — перестал.

```yml
trigger: "sneak start"
```

### `swaphand`

Активация при нажатии клавиши F (смена предметов в руках).

```yml
trigger: "swaphand"
```

### `shield <start|stop>`

Активация при блокировании щитом.

- `start|stop` (обязательно): `start` — поднял щит, `stop` — опустил.

```yml
trigger: "shield start"
```

### `projhit <PROJECTILES> <entity|block> [TARGETS]`

Активация, когда снаряд игрока попадает в цель.

- `PROJECTILES` (обязательно) — список снарядов (`ARROW,TRIDENT`).
- `entity|block` (обязательно) — куда должен попасть снаряд.
- `TARGETS` (опционально) — список целей (сущностей или блоков).

```yml
trigger: "projhit ARROW entity ZOMBIE,SKELETON"
```

### `kill [MOBS]`

Активация, когда игрок убивает сущность.

- `MOBS` (опционально) — список типов убитых сущностей.

```yml
trigger: "kill ZOMBIE,SKELETON"
```

### `consume <food|potion> [ITEMS]`

Активация, когда игрок съедает или выпивает что-либо.

- `food|potion` (обязательно): `food` — еда, `potion` — зелье.
- `ITEMS` (опционально) — список конкретных предметов (`BREAD,GOLDEN_APPLE`).

```yml
trigger: "consume food BREAD,GOLDEN_APPLE"
```

## См. также

- [Общее](01-Общее.md)
