---
icon: bullseye-arrow
---

# Target — кого выбрать

`target` задаётся внутри `groups`.

Зачем нужен `target`:
- чтобы определить, **к кому** применятся действия группы (`actions`): к кастеру, к цели под прицелом, ко всем в области и т.д.

Как это работает:
- `target` выбирается отдельно для каждой группы.
- если цель не найдена, группа пропускается (остальные группы всё равно выполняются).

Совет:
- дели навык на несколько `groups`, если тебе нужно выполнить разные действия по разным целям (например: сначала `dash` на кастера, потом `dmg` по `area`).

## Фильтрация целей

Для всех целей, кроме `caster`, можно добавить параметр `filter()`, чтобы указать, на какие типы существ будет действовать умение.

**Синтаксис:**
`filter(<режим> <категории>)` или `filter(<режим>,<категории>)`

- **Режимы:**
  - `allow`: Умение сработает **только** на указанные категории.
  - `deny`: Умение сработает на всех, **кроме** указанных категорий.

- **Доступные категории:**
  - `PLAYER`
  - `ANIMAL` (дружелюбные мобы)
  - `MONSTER` (враждебные мобы)
  - `UNDEAD` (нежить)
  - `BOSS` (боссы)

- **Доступные типы сущностей:**
  - Любой `EntityType` из Bukkit, например `ZOMBIE`, `SKELETON`, `CREEPER`.

**Пример:**
*Нанести урон всем монстрам и нежити в радиусе 10 блоков.*

```yml
groups:
  - target: "area 10 filter(allow monster,undead)"
    actions:
      - "dmg 10"

  - target: "target 15 filter(allow ZOMBIE,SKELETON)"
    actions:
      - "dmg 12"
```

## Синтаксис

### `caster`

Цель = **сам кастер**.

```yml
- target: "caster"
```

### `target [range]`

Одна живая сущность, в которую смотрит кастер.

- `range` (опционально) — максимальная дистанция поиска цели в блоках.
  - если не указан, используется значение по умолчанию плагина.
  - для триггера `hit` можно не указывать `range`, т.к. цель уже известна из события.

```yml
- target: "target 5"
```

### `lookpoint [maxBlocks] [flags(air)]`

Точка в мире по лучу взгляда кастера (**без поиска сущностей рядом**).

- `maxBlocks` (опционально) — максимальная длина луча в блоках.
  - если не указан — дальность практически не ограничена.
- `flags(air)` (опционально) — разрешить точку в воздухе.
  - если `flags(air)` не указан, а блок по лучу в пределах `maxBlocks` не найден — группа пропускается (как `NO_TARGET`).

```yml
- target: "lookpoint 20 flags(air)"
```

### `area <radius> [caster|target|look [maxBlocks]] [flags(air,skipcaster)]`

Все живые сущности в области.

- `radius` (обязательно) — радиус области в блоках.
- `caster|target|look` (опционально) — от какой точки считать центр области:
- `flags(air,skipcaster)` (опционально) — дополнительные флаги:
  - `skipcaster` — исключить кастера из найденных сущностей (удобно для AOE-скиллов).
  - `air` — (только для `look`) разрешить центр области в воздухе.
  - `caster` — от позиции кастера.
  - `target` — от позиции текущей цели (если она уже известна в контексте).
  - `look` — от точки по лучу взгляда кастера.
    - `maxBlocks` (опционально, только для `look`) — максимальная длина луча в блоках.
    - `flags(air)` (опционально, только для `look`) — разрешить центр области в воздухе.
      - если `flags(air)` не указан, а блок по лучу в пределах `maxBlocks` не найден — группа пропускается (как `NO_TARGET`).

```yml
- target: "area 6 look 20 flags(air,skipcaster)"
```

## См. также

- [Actions](06-Действия.md)
