---
icon: bolt
---

# Trigger — как включить навык

`triggers` — список строк (DSL), который определяет события, при которых навык будет кастоваться.

Также поддерживается старое поле `trigger` (одна строка), но рекомендуется использовать `triggers`.

Пример с несколькими триггерами:

```yml
triggers:
  - "hit ZOMBIE,SKELETON"
  - "rc block STONE,DIRT"
```

Зачем нужен `trigger`:
- это "кнопка" или событие, которое запускает навык (команда, клик, удар по мобу, получение урона и т.д.).

Как это работает:
- когда событие срабатывает, движок создаёт контекст каста (кто кастер, какая цель и т.п.) и дальше применяет `conditions`, `cost` и `groups`.

Совет:
- если нужно ограничить, **в какой руке предмет**, или **какие предметы допускаются**, делай это через `conditions` (а не пытайся усложнять `trigger`).

## Синтаксис

### `cmd <name>`

Каст при вводе команды `/name`.

- `name` (обязательно) — имя команды без `/`.

```yml
triggers:
  - "cmd smite"
```

(старый формат всё ещё работает)

```yml
trigger: "cmd smite"
```

### `rc <block|entity> <LIST>`

Каст при ПКМ.

- `block|entity` (обязательно) — по чему должен быть клик:
  - `block` — по блоку.
  - `entity` — по сущности.
- `LIST` (обязательно) —
  - если выбран `block` — список названий блоков через запятую (например: `STONE,DIRT,OAK_LOG`).
  - если выбран `entity` — список типов сущностей через запятую (например: `ZOMBIE,SKELETON`).

Важно:
- `rc block ...` срабатывает только при клике по блоку (клик по воздуху не подходит).


Важно:
- Проверку предмета в руке делайте через `conditions`, например: `item BLAZE_ROD 1 hand`

```yml
triggers:
  - "rc block STONE,DIRT"
```

### `lc [BLOCKS]`

Каст при ЛКМ.

- `BLOCKS` (опционально) — список названий блоков (через запятую), по которым должен кликнуть игрок.
  - если `BLOCKS` указан, то клик по воздуху **не** сработает.

```yml
triggers:
  - "lc STONE"
```

### `hit [MOBS]`

Каст когда игрок наносит урон.

- `MOBS` (опционально) — список типов сущностей (через запятую), по которым срабатывает триггер.
  - пример: `ZOMBIE` или `ZOMBIE,SKELETON`

```yml
triggers:
  - "hit ZOMBIE,SKELETON"
```

### `dmg [MOBS]`

Каст когда игрок получает урон.

- `MOBS` (опционально) — список типов сущностей (через запятую), по которым срабатывает триггер.

```yml
triggers:
  - "dmg"
```

### `sneak <start|stop>`

Каст когда игрок нажимает Shift.

- `start|stop` (обязательно) —
  - `start` — когда игрок начал красться.
  - `stop` — когда игрок перестал красться.

```yml
triggers:
  - "sneak start"
```

### `swaphand`

Каст когда игрок нажимает клавишу F (поменять предметы местами между руками).

```yml
triggers:
  - "swaphand"
```

### `shield <start|stop>`

Каст когда игрок начинает/заканчивает блокировать щитом.

- `start|stop` (обязательно) —
  - `start` — когда игрок поднял щит.
  - `stop` — когда игрок опустил щит.

```yml
triggers:
  - "shield start"
```

### `projhit <PROJECTILES> <entity|block> [TARGETS]`

Каст когда снаряд, выпущенный игроком, попадает в цель.

- `PROJECTILES` (обязательно) — список снарядов через запятую (например: `ARROW,TRIDENT`).
- `entity|block` (обязательно) — куда должен попасть снаряд:
  - `entity` — попадание в сущность.
  - `block` — попадание в блок.
- `TARGETS` (опционально) —
  - если выбран `entity` — список типов сущностей через запятую (например: `ZOMBIE,SKELETON`).
  - если выбран `block` — список названий блоков через запятую (например: `STONE,DIRT`).

```yml
triggers:
  - "projhit ARROW entity ZOMBIE,SKELETON"
```

### `kill [MOBS]`

Каст когда игрок убивает сущность.

- `MOBS` (опционально) — список типов сущностей (через запятую), которых нужно убить.

```yml
triggers:
  - "kill ZOMBIE,SKELETON"
```

### `consume <food|potion> [ITEMS]`

Каст когда игрок съедает/выпивает предмет.

- `food|potion` (обязательно) —
  - `food` — любое съедобное.
  - `potion` — зелье.
- `ITEMS` (опционально) — список названий предметов через запятую (например: `BREAD,GOLDEN_APPLE`).

```yml
triggers:
  - "consume food BREAD,GOLDEN_APPLE"
```

## См. также

- [Общее](01-Общее.md)
